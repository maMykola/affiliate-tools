{% extends 'cpanel/layout.html.twig' %}

{% block title %}Generate Link | {{ parent() }}{% endblock %}

{% block body %}
    <div class="container">
        <header><h1>Generate Affiliate Link</h1></header>
        <hr>
        <form method="post">
            <div class="form-group {{ errors.url ? 'has-error' : '' }}">
                <label for="inputAffiliateUrl">Affiliate Link</label>
                <input type="text" class="form-control" name="url" id="inputAffiliateUrl" placeholder="Affiliate URL" value="{{ url }}">
                {% if errors.url %}
                    <span class="help-block">{{ errors.url }}</span>
                {% endif %}
            </div>

            <div class="form-group {{ errors.target ? 'has-error' : '' }}">
                <label for="inputTargetLink">Target Link</label>
                <input type="text" class="form-control" name="target" id="inputTargetLink" placeholder="Target URL" value="{{ target }}">
                {% if errors.target %}
                    <span class="help-block">{{ errors.target }}</span>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-primary">Generate</button>
        </form>

        {% if link is defined and link is not empty %}
            <hr>
            <dl class="dl-horizontal">
                <dt>URL</dt>
                <dd>{{ link.url }}</dd>

                <dt>Affiliate Link</dt>
                <dd>{{ link.affiliate }}</dd>

                <dt>Site Link</dt>
                <dd>{{ link.local }}</dd>
            </dl>
        {% endif %}
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        $('#inputAffiliateUrl').focus();
    </script>
{% endblock %}